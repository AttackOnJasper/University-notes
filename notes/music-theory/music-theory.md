# Music Theory

## Beat
* beat is the basic unit of time, the pulse (regularly repeating event), of the mensural level
* Strong / weak beat (i.e. on beat / off beat; 强拍 弱拍; up beat / down beat)
    - e.g. In 44 meter (Each basic beat is a 4th note, 4 beats per bar), 
        - classical music beat pattern: strong weak strong weak | strong weak strong weak
        - Pop / Jazz music beat pattern: WSWS | WSWS
            - typically because of drum set (kick and snare)

## Note (音符): 
- Definition: a sound with a specific frequency (pitch)
- Note length: (assume 4 beats per bar i.e. quadruple meter, Common Time, and each beat is a 4th note)
    - Full (Whole) note ('o'): 4 beats (i.e. one bar)
        - whole note rest: semibreve
    - Half note (circle and line): 2 beats 
        - half note rest: minim
    - 4th note（4分音符) 
        - 1 beat
        - represented by a filled circle and line
        - 4th note rest: crotchet
    - 8th note: 0.5 beat
        - note rest: quaver
    - 16th note: 0.25 beat
        - note rest: semiquaver

### Beams: Groups of notes
- Help identify the boundaries of notes

### Tuplets
- Arbitrary grouping of notes resulted from division of rhythms
- e.g. 
    1. triplet 8th notes - the same interval as the length of a 4th note. (or 3 in the time of 2)
    1. 5 * 8th notes - the same interval as a half note (or 5 in the time of 4) 

### Ties and Dot
- dot on the right of a note == * 1.5



## Bar (小节 typically 4 beats per bar)
- A group of beats

### Meter 
- 2 numbers representing the number of beats and beat types in a bar
    - Numerator specifies number of beats per bar (e.g. duple, triple, quadruple)
    - Denominator specifies the basic beat type
- e.g. 
    1. 24 meter: 2 beats per bar (also called duple meter)
    1. 44 meter (common time; quadriple): Each beat is a 4th note, 4 beats per bar 
    1. 34 meter (triple meter): Each beat is a 4th note, 3 beats per bar (pattern: strong weak weak | strong weak weak)
- Simple vs Compound
    - Simple: Powers of 2
    - Compound: Powers of 3 for numerator. e.g. 68 meter
- Why 4 is the most common?
    - 4 is the number of completion.
    - Verse usually has 16 bars (4 * 4)
    - Hook usually has 8 bars (4 * 2)


## Octave（八度）
- Most songs are made of one **octave** (or 12 notes) 
    - in piano keys - 7 white keys & 5 black keys
    - The octave is not divided by 8 in general, it's divided into 12.
- Definition: Octave is the interval between (in including) 2 notes, where one having twice or half the frequency of vibration of the other 
    - i.e. One octave higher means double frequency, and we divide an octave into 12 sections, thus each section has a power difference of 12th root of 2, which is 1.0595
    - i.e. A A# B C C# D D# E F F# G G# - $$ 440 Hz, 440 * 1.0595 Hz, 440 * 1.0595^2 Hz, 440 * 1.0595^3 Hz, ..., 880 Hz $$

## Stave (aka Staff, 五线谱)
- A grid system for standardize the musical pitch recordings and writings
- Introduced in 16th century
- A is between middle line and the line below it 
- Clefs
    1. The treble clef (or G clef) - most common
        - It's called a G clef because the symbol sits on the G note
        - Middle C: 
            - It's called middle C because it is 
                - one ledger line below the lowest line in treble clef
                - one ledger line above the highest line in bass clef 
        - Memorization
            - On line notes are E G B D F (every good boy deserves food)
            - Off line notes are F A C E (face)
    1. The bass clef (very common)
        - Memorization
            - Off line notes are A C E G
    1. Alto clef (common for viola or alto)
    1. Tenor clef (common for cello)

## Piano Roll
- 88 keys
- 12 keys (7 white keys and 5 black keys) are grouped together (octave). 
    - White keys range from C,D,E,F,G,A,B. 
    - Black keys range from C# (D b), D#, ... A#
- There are a total of 8 groups of keys. Range from 
    - China: $$ A_2, C_1, C, c, c^1 (center), c^2, c^3, c^4, c^5 $$
    - Other places: c5 is the center

## Music Interval
- Categories
    - Horizontal, Linear, Melodic
- Can be measured from the stave
    - e.g.
        1. G - A: second
        1. C - E: third
        1. C - C: octave
- Semitone
    - smallest distance unit between notes. All distances can be described as x semitones.
    - Also the distance between adjacent notes in the 12 notes of an octave
    - e.g. the distance between C and C# is 1 semitone
    - the interval of 2 semitones is called a whole step / whole tone / tone
- Number of semitones -> Interval:
    - 0 semitone: Perfect unison (i.e. 2 notes having the same pitch)
    - 1 semitone: Minor second
    - 2 semitones: Major second
    - 3 semitones: Minor third (e.g. A - C)
    - 4 semitones: Major third (e.g. F - A)

## Scales (Major Keys & Minor Keys)
- Describes a group of ordered notes with hierarchy
    - Consists of each characters from A - G once and only once
    - After assigning a letter we would determine if a note is shape or flat
- Diatonic Scale
    - A musical scale (as a major or minor scale) comprising intervals of 5 whole steps and 2 half steps
- Major scale pattern
    - Tone pattern: whole, whole, half, whole, whole, whole, half 
        - i.e. TTSTTTS, where T is for tone, S is for semitone
        - In semitone distances: 2, 2, 1, 2, 2, 2, 1 
    - e.g.
        - **C major scale**: C, D, E, F, G, A, B (all 7 white keys - semitone between B and C, E and F thus there's no black keys in between)
            - C is the tonic (key - will give people the feeling of completeness, returning to base / ground / home)
                - Note that C major (triad) is also the tonic for C major scale
        - **D major**: D, E, F#, G, A, B, C#
    - Majors with black keys marked as #:
        - e.g. G major: G, D, A, E, B, F#, C#
    - Stability order: 1 5 3 6 2 4 7 (e.g. In C major, C is most stable, and B is most unstable)
   	- Unstable notes have the tendency to move to stable notes in a pattern
    - To find the relative minor of a major scale: take the 6th note of a major scale as the tonic, then it's the relative minor
- Minor pattern (scale)
    - Types
        1. natural minor scale
            - Pattern: 2, 1, 2, 2, 1, 2, 2 (TSTTSTT)
            - e.g. **A minor**
        1. Harmonic minor scale
            - Raise the 6th and 7th degree when ascending, same as natural minor scale in descending
            - i.e. Ascending: TSTTTTS
        1. Melodic minor scale 
            - Raise the 7th degree both ascending and descending
            - Pattern: 2, 1, 2, 2, 1, 2, 1
    - Finding the relative major: the tonic of the relative major is a minor 3rd above the tonic of the minor.
    - Trap beat typically uses **D minor**
- Degrees (primary chords)
    - Tonic (key): 1st degree of the scale 
        - e.g. C major
    - Subdominant: the 4th tonal degree (scale degree 4) of the diatonic scale
        - e.g. F major
    - Dominant: the 5th scale degree of either a major scale or a minor scale
        - e.g. G major
    - Leading note: 7th degree
- Starting from different notes other than C on C major (i.e. changing the tonic from C to others)
    1. Starting from the 2nd note D on C major. i.e. DEFGABC
        - Dorian mode
        - Pattern: 2, 1, 2, 2, 2, 1, 2 (TSTTTST)
    1. Starting from the 3rd note E on C major 
        - Phyrgian mode
        - Pattern: STTTSTT
    1. Starting from F -> Lydian mode
        - Pattern: TTTSTTS
    1. Starting from G -> Mixolydian mode
        - Pattern: TTSTTST
    1. Starting from A -> Aeolian mode (Natural Minor scale)
        - Pattern: TSTTSTT
    1. B -> Locrian mode
        - Pattern: STTSTTT

### Key
- refers to the way in which we perceive the hierarchy of notes and chords. It specifies the home note and modality also
    - e.g. `D minor`
- describes the relationship between notes

### Key Signature
- Specifies the key
    - tells us (right at the start of the line) about the notes which will be sharpen or flatten 
    - makes the music easier to read as it is not cluttered with accidentals.
- Circle of fifths help memorize the specific key signatures (see below)

## Circle of Fifths
- Circle: $$ F - C - G - D - A - E - B - G_b - D_b - A_b - E_b - B_b - F $$
- Interval between 2 notes are always **perfect fifth**
- Can be used for notes, chords, and keys
    - think them as notes 
        - e.g. count the A_b chord: A_b, C, E_b (from circle), G
    - think as chords
        - Fifth chord is the dominant chord (polarized from root chord)
        - sample use case: find the fifth chord
    - think as keys
        - shows what keys are similar to each other, making smoothier to transition into different keys
            - e.g. C major's key arrangement is same as G major's except the last note
        - can help for recognizing key signatures and identifying flat / sharp notes
            - Clockwise order for **sharp** key signatures
                - Let the number of sharps in the key signature be be n
                    - then the first n notes starting from F would be sharp
                    - the home key would be the (n+3)th note starting from F
                - e.g. Key Signature vs sharps
                    1. 1 sharp - In stave F means F# (G major - $$ G,A,B,C,D,E,F#,G $$)
                    2. 2 sharps - F means F#; C means C# (D major)
                    3. 3 sharps - F means F#; C means C#; G means G# (A major)
            - Reversed order for **flat** key signatures
                - e.g. 
                    1. 1 flat - $$ B_b $$ (F major / D Minor - $$ D,E,F#,G,A,B_b,C,D $$)
                    2. 2 flats - $$ B_b, E_b $$ (B_b major / G Minor)
                    3. 3 flats - $$ B_b, E_b, A_b $$ ($$ E_b $$ major) 

## Consonant intervals (Interval Quality)
- Quality would be specified via major, perfect, minor, augmented, diminished for the same numeric interval
    - e.g. major 3rd, minor 3rd
- **Perfect consonant intervals**: octaves (8th), unison (same alphabetical note), fifths, fourth
    - Perfect fifths: 7 semitone difference
        - e.g. C & G, A & E
- **Imperfect consonant intervals**: major and minor thirds, and major and minor sixths
    - Major thirds: 4 semitones
        - e.g. C & E 
- Pattern of intervals on any major scales
    - Perfect uison, Major 2nd, Major 3rd, Perfect 4th, Perfect 5th, Major 6th, Major 7th, Perfect 8ve
- Pattern of intervals on natural minor scales
    - Perfect uison, Major 2nd, Minor 3rd, Perfect 4th, Perfect 5th, Minor 6th, Minor 7th, Perfect 8ve
- Qualities of intervals other than perfect / major
    - **Augmented** describes the interval which is one semitone higher than **major / perfect** intervals
    - **Diminished** describes the interval which is one semitone lower than the **perfect / minor** intervals
    - **Major** describes the interval which is one semitone higher than the **minor** intervals
    - **Minor** describes the interval which is one semitone lower than the **major** intervals
- To check the quality of the interval, check if the upper note is in the major key of the lower note (i.e. treat the lower note as the tonic of the major scale)
    - If it is in the key, then it's a major or perfect (depending on the numeric interval e.g. 3rd - major; 4th - perfect)
    - Otherwise, check how many semitones between the upper note and the note on the major key
    - e.g.
        - C to G_b is **diminished fifth** (Checked that C major does not contain G_b). 
            - Note that diminished fifth is 'identical' to augmented fourth; however, we should count notes (letters) first to get the interval number before counting half steps to resolve the actual interval
        - C to G# is augmented fifth (C major does not contain G#)
- Inversion rules
    - the number of semitones of original + inversion = 9
    - Inversion of a major interval is a minor interval


## Chord
- Combination of 3 or more notes at the same time
    - Combination of 3 is called a triad
- A chord is built based of a single note called **root**
- The lowest note is called the bass note. If no inversion, then it's the root
- Chord Quality
    1. A **major chord** is built by adding root with the **major third** and **perfect fifth** e.g. C, F, G 
        - 4 semitones & 3 semitones apart
    1. A **minor chord** is built by adding root with the **minor third** and **perfect fifth** e.g. Dm, Em, Am
        - 3 semitones & 4 semitones apart
    1. An augmented triad consists of a root, a major third, and an augmented fifth 
    1. A diminished triad consists of a root, a minor third, and a diminished fifth
- First 6 triads of the major scale is: M, m, m, M, M, m. (In roman scale, I, ii, iii, IV, V, vi)
    - `B chord` does not belong to either major or minor, so B chord is noted as `Bdim` (`dim` stands for diminished)
- Trap beat typically uses triads
- Stacking order (inverting)
    - Why the chords are ordered as 1-3-5 and not 3-5-1 (first inversion) or 5-1-3 (second inversion)?
        - Even if the order is switched, 1 would still be identified as the root of the chord.
   
### Popular Chords
- For C major scale:
    - C major (tonic triad), F major (Subdominant), G major (Dominant)

### Cadence
- Definition: a melodic or harmonic progression that creates a sense of finality or a pause in the music
- Types
    1. Perfect Cadence (Finished): back to the first degree (i.e. the tonic)
    1. Imperfect Cadence (Unfinished) examples:
        1. From the 5th degree (i.e. the dominant) to the 2nd degree.
            - e.g. G -> D in C major scale


### Chord Progression
- Small cadence build up together in progressions
- Chord progression rules for major scales (also in scale degree but roman numerals are used instead for chord progression)
    1. Major Scales
        - 1st - 7th degrees == I, ii, iii, IV, V, vi, vii; I, IV, V are capitalized as they are major chords, while ii, iii, vi are minor chords, and vii is diminished
        - Patterns
            1. I -> any
            1. ii -> V
            1. iii -> vi
            1. IV -> I or V
            1. V -> I
            1. vi -> ii
        - Chord progression examples
            - 4-chord song: 
                - I, V, vi, IV
                - I -> vi -> ii -> V
                - IV -> V -> iii -> vi (-> ii -> V -> I)
    1. Minor Scales
        1. Harmonic minor scale e.g. A minor
            - i == Amin (minor chord), ii == Bdim (diminished chord), III == Caug, iv == Dmin, V == Emaj, VI == Fmaj, vii = G#dim

   
### Melodies
- Melody are usually built on top of chords with higher octave
    - Typically 4th and 7th notes are unstable for melody
    - Melody notes are usually in chords; ending note should be in chord


## Other
- Tempo (BPM): Beats per minute
- Anacrusis
    - Pickup notes (at the beginning)
    - Analogy to 弱起
- Phrase
    - A group of bars in melody; typically 4 bars
- Structure
    - Motif: short musical statements
    - Notes -> songs
        - Notes -> Beats -> Bars -> Phrases -> Period (Phrase groups) / Melodies -> Sections -> Song / movements
- Forms
    - Binary form: 2 sections - AB
    - Ternary (prime) form: ABA / ABA' (A' is modified A)
        - e.g. Sonata is a simple ABA form
    - Rondo form: ABACA
    - 12 Bar blue form